<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4RW860V2H3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4RW860V2H3');
</script>
   <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:title" content="X Video Downloader Pro">
<meta property="og:description" content="Téléchargez facilement vos vidéos X en haute qualité">
<meta property="og:image" content="https://images.unsplash.com/photo-1690233662564-f599cc764cca">
<link rel="icon" type="image/png" href="https://images.unsplash.com/photo-1690233662564-f599cc764cca">
    <title>TVID.pro</title>
    <style>
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        :root {
            --primary-color: #1DA1F2;
            --primary-dark: #1991da;
            --dark-bg: #0a0c10;
            --darker-bg: #16181c;
            --text-color: #fff;
            --accent-gradient: linear-gradient(45deg, #1DA1F2, #19c1da);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background: linear-gradient(-45deg, #0a0c10, #16181c, #1a1e23, #20242a);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.2rem;
        }
        .header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 3rem;
            animation: float 6s ease-in-out infinite;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-shadow: 0 0 30px rgba(29, 161, 242, 0.5);
        }

        .logo svg {
            width: 40px;
            height: 40px;
            filter: drop-shadow(0 0 10px rgba(29, 161, 242, 0.5));
        }

        .disclaimer {
             max-width: 100%;
            text-align: center;
            margin-bottom: 3rem;
            line-height: 1.6;
            font-size: 0.9rem;
            opacity: 0.8;
            
            padding: 1rem 1rem;
            border-radius: 1rem;
            backdrop-filter: blur(10px);
        }

        .container {
            width: 95%;
            max-width: 95%;
      
            padding: 2rem;
            backdrop-filter: blur(10px);
            
            transition: transform 0.3s ease;
        }

        .container:hover {
            transform: translateY(-5px);
        }

        .title {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            text-align: center;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }

        .input-group {
            margin-bottom: 1.5rem;
            position: relative;
        }

        .input-group input {
            width: 95%;
            padding: 1.2rem;
            background: rgba(10, 12, 16, 0.8);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            color: var(--text-color);
            font-size: 1.1rem;
            padding-left: 3rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .input-group input:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 4px rgba(29, 161, 242, 0.1);
        }

        .input-group svg {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .input-group input:focus + svg {
            opacity: 1;
            color: var(--primary-color);
        }

        .btn {
            width: 100%;
            padding: 1.2rem;
            background: var(--accent-gradient);
            border: none;
            border-radius: 1rem;
            color: var(--text-color);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transition: 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(29, 161, 242, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            background: linear-gradient(45deg, #666, #888);
            opacity: 0.7;
            cursor: not-allowed;
        }

        .info {
            text-align: center;
            margin-top: 2.5rem;
            opacity: 0.8;
            font-size: 0.95rem;
            line-height: 1.6;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
        }

        #result {
            margin-top: 0.5rem;
            
            margin: 01px;
            
            display: none;
            
        }

        #result.show {
            display: block;
        }

        .error {
            color: #ff4444;
            margin-top: 0.7rem;
            font-size: 0.9rem;
            display: none;
            background: rgba(255, 68, 68, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border-left: 3px solid #ff4444;
        }

        .error.show {
            display: block;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .download-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }

        .preview-image {
            width: 100%;
            border-radius: 1rem;
            margin: 0.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        .preview-image:hover {
            transform: scale(1.02);
        }

        @media (max-width: 768px) {
            .container {
                padding: 2rem;
                
            }

            .download-options {
                grid-template-columns: 1fr;
            }
        }



        .container2 {
            max-width: 95%;
            margin: 0 auto;
            padding: 10px;
        }

        .section {
            background-color: #192734;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 20px;
            margin-bottom: 16px;
            color: #fff;
        }

        p {
            color: #8899A6;
            margin-bottom: 16px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #38444D;
            background-color: #253341;
            border-radius: 6px;
            color: #fff;
            margin-bottom: 12px;
        }

        button {
            background-color: #1DA1F2;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 9999px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: #1991DA;
        }

        select {
            width: 100%;
            padding: 12px;
            background-color: #253341;
            border: 1px solid #38444D;
            border-radius: 6px;
            color: #fff;
            margin-bottom: 12px;
            appearance: none;
        }







        /* Styles pour le header fixe */
.main-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background-color: rgba(22, 24, 28, 0.95);
    backdrop-filter: blur(10px);
    z-index: 1000;
    padding: 1rem 2rem;
    border-bottom: 1px solid rgba(48, 52, 58, 0.95);
}

.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
}

.logo-container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.logo-text {
    font-size: 1.5rem;
    font-weight: 700;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

.nav-menu {
    display: flex;
    gap: 2rem;
}

.nav-link {
    color: var(--text-color);
    text-decoration: none;
    font-weight: 500;
    transition: opacity 0.2s;
}

.nav-link:hover {
    opacity: 0.8;
}

/* Styles pour le footer */
.footer {
    background-color: rgba(22, 24, 28, 0.95);
    border-top: 1px solid rgba(48, 52, 58, 0.95);
    padding: 2rem;
    margin-top: 4rem;
}

.footer-container {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.footer-links {
    display: flex;
    gap: 2rem;
}

.footer-logo {
    font-size: 1.2rem;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

.social-links {
    display: flex;
    gap: 1rem;
}

.social-link {
    color: var(--text-color);
    font-size: 1.5rem;
}

.copyright {
    text-align: center;
    margin-top: 2rem;
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9rem;
}

/* Ajustement pour le contenu principal */
body {
    padding-top: 4rem; /* Pour compenser le header fixe */
}

@media (max-width: 768px) {
    .nav-menu {
        gap: 1rem;
    }
    
    .footer-container {
        flex-direction: column;
        gap: 1.5rem;
        text-align: center;
    }
    
    .footer-links {
        flex-direction: column;
        gap: 1rem;
    }
}
        
    </style>
</head>
<body>
    <!-- Ajouter ce code juste après la balise <body> -->
<header class="main-header">
    <div class="header-container">
        <div class="logo-container">
            <a href="index.html" style="text-decoration: none; display: flex; align-items: center; gap: 0.5rem; color: inherit;">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
                <span class="logo-text">TVID.pro</span>
            </a>
        </div>
        <nav class="nav-menu">
            <a href="about.html" class="nav-link">À propos</a>
            <a href="FAQ.html" class="nav-link">FAQ</a>
        </nav>
    </div>
</header>
<br>
<br>
<br>


    <div class="disclaimer">
         <div class="telegram-container">
            <div class="telegram-header">
                <svg width="24" height="24" viewBox="0 0 240 240" xmlns="http://www.w3.org/2000/svg">
                    <path fill="white" d="M100.04 144.41l48.36 35.729c5.519 3.045 9.501 1.468 10.876-5.123l19.685-92.763c2.015-8.08-3.08-11.746-8.36-9.349l-115.59 44.571c-7.89 3.165-7.843 7.567-1.438 9.528l29.663 9.259 68.673-43.325c3.242-1.966 6.218-.91 3.776 1.258"/>
                </svg>
                Canaux telegram de contenu hot
            </div>
            <div class="telegram-content">


        <style>
            
    
            #channels {
            display: flex;
            flex-wrap: wrap;
            gap: 3px;
            justify-content: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .channel-preview {
            width: 100%;
            max-width: 400px;
            max-width: 400px;
            margin: 10px auto;
            background: white;
            border-radius: 8px;
            padding: 8px;
            display: flex;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .channel-preview:hover {
            transform: translateY(-1px);
        }

        .channel-image {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            margin-right: 12px;
        }

        .channel-info {
            flex: 1;
        }

        .channel-name {
            color: #222;
            font-weight: 500;
            font-size: 16px;
            margin-bottom: 4px;
        }

        .channel-description {
            color: #707579;
            font-size: 14px;
            line-height: 1.4;
        }

        .subscribers {
            color: #707579;
            font-size: 13px;
            margin-top: 4px;
        }





        .telegram-container {
            background-color: rgb(32, 80, 119);
            border-radius: 8px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            max-width: 800px;
            margin: 0 auto;
        }

        .telegram-header {
            background-color: #0088cc;
            color: white;
            padding: 15px 20px;
            font-size: 18px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .telegram-content {
            min-height: 200px;
            padding: 20px;
        }
        </style>
    </head>
    <body>
        <div id="channels"></div>
    
        <script>
            const channels = [
                {
                    name: "BABY SEX ZONE",
                    description: "VIDEOS PORNO ET BIZI IVOIRIEN",
                    image: "PPCANAL1.jpg",
                    link: "https://t.me/+Mb8uZwYxgWZmM2Nk",
                    
                },
                {
                    name: "Sweet Throat ❤️",
                    description: "Sexy ass and Big ass",
                    image: "ppcanal2.jpg",
                    link: "https://t.me/+YiapWqpksWYwYmU8",
                    
                }
            ];
    
            const channelsDiv = document.getElementById('channels');
    
            channels.forEach(channel => {
                const preview = document.createElement('div');
                preview.className = 'channel-preview';
                preview.innerHTML = `
                    <img src="${channel.image}" alt="${channel.name}" class="channel-image">
                    <div class="channel-info">
                        <div class="channel-name">${channel.name}</div>
                        <div class="channel-description">${channel.description}</div>
                        <div class="subscribers">${channel.subscribers}</div>
                    </div>
                `;
                
                preview.addEventListener('click', () => {
                    window.open(channel.link, '_blank');
                });
                
                channelsDiv.appendChild(preview);
            });
        </script>
    </div>

         <!-- Contenu vide -->
    </div>
    </div>

    <div class="container">
        <h1 class="title">Twitter videos download</h1>
        
        <div class="input-group">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
            </svg>
            <input type="text" id="tweetUrl" placeholder="Collez l'URL de votre post X ici" autocomplete="off">
            <div class="error" id="urlError">⚠️ Veuillez entrer une URL X valide</div>
        </div>

        <button class="btn" id="downloadBtn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
            </svg>
            Télécharger la vidéo
        </button>

        <div id="result"></div>

        <div class="info">
            💡 Pour commencer, copiez-collez simplement l'URL d'un post X contenant une vidéo.
            Notre système analysera automatiquement le contenu et vous proposera les meilleures options de téléchargement disponibles.
        </div>
    </div>


    <div class="container2">
        <h1 style="text-align: center; margin: 30px 0;">Foire aux questions</h1>
        <div class="section"></h1>
            <h1>A quoi sert cette page ?</h1>
            <p>Cet outil vous permet de télécharger n'importe quelle vidéo Twitter directement sur votre appareil en un seul clic. Twitter Vid est un téléchargeur de vidéos Twitter gratuit avec une vitesse de téléchargement ultra rapide. Téléchargez des vidéos Twitter au format MP4 en HD, garantissant une lecture de haute qualité.</p>
        </div>

        <div class="section">
            <h1>Comment utiliser cet outil ?</h1>
            <p>Pour utiliser cet outil, entrez simplement le lien/URL du Tweet que vous souhaitez télécharger dans le champ de saisie et cliquez sur le bouton « Charger les vidéos ». Ensuite, sélectionnez la qualité souhaitée et cliquez sur le bouton "Télécharger". La vidéo sera ensuite téléchargée sur votre appareil au format MP4. Il s'agit essentiellement d'un outil Twitter vers MP4, car il vous permet de convertir n'importe quel Tweet en MP4. Cet outil est un économiseur vidéo Twitter tout-en-un.</p>  
        </div>

        <div class="section"></h1>
            <h1>Combien de temps faut-il pour télécharger une vidéo ?</h1>
            <p>La vitesse de téléchargement dépendra de votre connexion Internet et de la taille de la vidéo. Cependant, notre téléchargeur de vidéos Twitter optimal et efficace devrait maintenir le processus de téléchargement relativement rapide.</p>
        </div>

        <div class="section"></h1>
            <h1>Puis-je télécharger un GIF Twitter avec cet outil ?</h1>
            <p>Oui! Twitter Vid est également un téléchargeur de GIF Twitter, ce qui signifie que vous pouvez télécharger n'importe quel GIF Twitter. Entrez simplement votre lien Tweet et cliquez sur le bouton "Charger les vidéos". Sélectionnez ensuite la qualité dans laquelle vous souhaitez télécharger le GIF et cliquez sur « Télécharger ». N'oubliez pas que vous pouvez enregistrer n'importe quelle vidéo Twitter au format GIF ou MP4 à l'aide de cet outil.</p>
        </div>

        <div class="section"></h1>
            <h1>Comment télécharger des vidéos à partir de tweets avec plusieurs vidéos ?</h1>
            <p>Twitter Vid vous permet de télécharger des vidéos à partir de tweets avec des médias mixtes. Cela signifie que vous pouvez télécharger des vidéos à partir de tweets contenant plusieurs vidéos ou GIF. Si vous souhaitez télécharger un tweet avec plus d'une vidéo, placez simplement le lien dans Twitter Vid et il répertoriera toutes les vidéos disponibles à télécharger. Contrairement à la plupart des autres outils de téléchargement de vidéos Twitter, Twitter Vid a la possibilité de télécharger plusieurs vidéos à partir d'un seul tweet.</p>
        </div>

        <div class="section"></h1>
            <h1>Comment télécharger des vidéos Twitter sur iOS ou Android ?</h1>
            <p>Twitter Vid vous permet de télécharger des vidéos sur presque n'importe quel appareil ou plateforme. Cela signifie que vous pouvez télécharger n'importe quelle vidéo Twitter sur iPhone, iPad, Android, iOS, Windows, Mac ou même Linux à l'aide de TwitterVid.com. Vous pouvez également installer l'extension officielle Twitter Video Downloader sur Chrome, Firefox, ou Bord.</p>
        </div>

        <div class="section"></h1>
            <h1>Est-il sécuritaire de télécharger des vidéos depuis Twitter ?</h1>
            <p>Oui, si vous utilisez TwitterVid.com pour télécharger vos vidéos ou GIF, nous garantissons que tous les fichiers sont sûrs et sécurisés. Twitter Vid donne la priorité à la confidentialité des utilisateurs et ne stocke aucune information personnelle. De plus, tous les liens de téléchargement proviennent directement des serveurs Twitter.</p>
        </div>

        <div class="section"></h1>
            <h1>Puis-je télécharger des vidéos à partir de comptes Twitter privés ?</h1>
            <p>Twitter n'autorise pas le téléchargement de vidéos à partir de comptes privés. Il s'agit de respecter la vie privée des utilisateurs qui ont choisi de garder leurs profils et contenus Twitter privés. Cependant, vous pouvez toujours utiliser Twitter Vid pour télécharger des vidéos à partir de comptes publics ou bannis.</p>
        </div>

        <div class="section"></h1>
            <h1>Est-il légal de télécharger des vidéos Twitter ?</h1>
            <p>Le téléchargement de vidéos Twitter pour un usage personnel est généralement considéré comme légal. Cependant, il est important de respecter toutes les vidéos protégées par le droit d'auteur et de ne pas distribuer, reproduire ou monétiser le contenu téléchargé sans l'autorisation du propriétaire. Donnez toujours le crédit approprié au créateur original si vous partagez ou utilisez le contenu de quelque manière que ce soit.</p>
        </div>

        <div class="section"></h1>
            <h1>Cet outil permet-il de télécharger des vidéos avec du son ?</h1>
            <p>Oui! Les modifications récentes apportées à Twitter ont amené la plupart des téléchargeurs à arrêter de télécharger des vidéos avec du son, en particulier sur iOS. Cependant, cet outil vous permet de télécharger n'importe quelle vidéo Twitter avec audio.</p>
        </div>

        <div class="section"></h1>
            <h1>Comment télécharger des vidéos depuis Twitter ?</h1>
            <p>Voici comment enregistrer des vidéos depuis Twitter :
                <br>

                1-Copiez le lien du tweet contenant la vidéo que vous souhaitez enregistrer. <br>
                2-Accédez au téléchargeur de vidéos Twitter : TwitterVid.com <br>
                3-Collez le lien Tweet dans le champ « URL du tweet ». <br>
                4-ppuyez sur « Charger des vidéos » <br>
                5-Choisissez la qualité souhaitée et appuyez sur le bouton "Télécharger".</p>
        </div>

        <!-- Ajouter ce code juste avant la fermeture de la balise </body> -->
        <footer class="footer">
            <div class="footer-container">
                <div class="footer-logo">
                    <span class="logo-text">TVID.pro</span>
                </div>
                <div class="footer-links">
                    <a href="about.html" class="nav-link">À propos</a>
                    <a href="FAQ.html" class="nav-link">FAQ</a>
                </div>
                <div class="social-links">
                    <a href="#" class="social-link">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21.633 2.367a1.6 1.6 0 0 0-1.633.09L2.89 11.15a1.6 1.6 0 0 0 .043 2.84l4.83 2.023L18.12 6.66l-9.997 9.997v4.043a1.6 1.6 0 0 0 2.83 1.033L14.22 18.2l4.83 2.023a1.6 1.6 0 0 0 2.18-1.073l2.4-14.4a1.6 1.6 0 0 0-1.997-2.383z"/>
                        </svg>
                    </a>
                </div>
            </div>
            <div class="copyright">
                © 2024 TVID.pro. Tous droits réservés.
            </div>
        </footer>
       

    </div>


    

   <script>
   const tweetUrlInput = document.getElementById('tweetUrl');
const downloadBtn = document.getElementById('downloadBtn');
const urlError = document.getElementById('urlError');
const result = document.getElementById('result');

function isValidTweetUrl(url) {
    try {
        const tweetUrl = new URL(url);
        return tweetUrl.hostname === 'twitter.com' || 
               tweetUrl.hostname === 'x.com' || 
               tweetUrl.hostname === 'mobile.twitter.com';
    } catch {
        return false;
    }
}

function getResolutionLabel(resolution) {
    if (!resolution) return '';
    const [width, height] = resolution.split('x');
    if (width >= 1280) return 'HD';
    if (width >= 720) return 'SD';
    return 'Low';
}

tweetUrlInput.addEventListener('input', () => {
    const url = tweetUrlInput.value.trim();
    if (url === '') {
        urlError.classList.remove('show');
        downloadBtn.disabled = true;
    } else if (!isValidTweetUrl(url)) {
        urlError.classList.add('show');
        downloadBtn.disabled = true;
    } else {
        urlError.classList.remove('show');
        downloadBtn.disabled = false;
    }
});

downloadBtn.addEventListener('click', async () => {
    const url = tweetUrlInput.value.trim();
    if (!isValidTweetUrl(url)) {
        return;
    }

    downloadBtn.disabled = true;
    result.innerHTML = `
        <div style="text-align: center; padding: 2rem;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="animation: spin 1s linear infinite;">
                <circle cx="12" cy="12" r="10" opacity="0.25"/>
                <path d="M12 2a10 10 0 0 1 10 10" />
            </svg>
            <p style="margin-top: 1rem;">Analyse en cours...</p>
        </div>
    `;
    result.classList.add('show');

    try {
        const response = await fetch('https://backendxvideodoxnloader.onrender.com/api/video-info', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ tweetUrl: url })
        });

        if (!response.ok) {
            throw new Error('Erreur lors de la récupération des informations des médias');
        }

        const data = await response.json();
        
        if (!data.medias || data.medias.length === 0) {
            throw new Error('Aucun média trouvé dans ce post');
        }

        result.innerHTML = `
            <div style="padding: 2rem; background: rgba(255,255,255,0.05); border-radius: 1rem; backdrop-filter: blur(10px);">
                ${data.medias.map((media, index) => `
                    <div class="media-container" style="margin-bottom: 2rem; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 2rem;">
                        <h3 style="font-size: 1.5rem; margin-bottom: 1rem; color: #fff;">Media ${index + 1}</h3>
                        
                        ${media.type === 'photo' ? `
                            <div style="position: relative; overflow: hidden; border-radius: 1rem; margin: 1rem 0;">
                                <img src="${media.url}" 
                                     class="preview-image" 
                                     alt="Image ${index + 1}"
                                     style="width: 100%; max-width: 500px; display: block;" />
                            </div>
                            <button class="btn" onclick="downloadMedia('${media.url}', 'photo', ${index + 1})"
                                    style="background: linear-gradient(45deg, #2196f3, #21cbf3);">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                    <polyline points="7 10 12 15 17 10"/>
                                    <line x1="12" y1="15" x2="12" y2="3"/>
                                </svg>
                                Télécharger l'image
                            </button>
                        ` : `
                            <div style="position: relative; overflow: hidden; border-radius: 1rem; margin: 1rem 0;">
                                <img src="${media.thumbnail}" 
                                     class="preview-image" 
                                     alt="Aperçu de la vidéo ${index + 1}"
                                     style="width: 100%; display: block;" />
                                <div style="position: absolute; bottom: 1rem; right: 1rem; 
                                          background: rgba(0,0,0,0.7); padding: 0.5rem 1rem; 
                                          border-radius: 0.5rem; font-size: 0.9rem;">
                                    ${media.type === 'animated_gif' ? 'GIF' : 'VIDEO'}
                                </div>
                            </div>
                            <div class="download-options" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem;">
                                ${media.versions.map((version, vIndex) => `
                                    <button class="btn" 
                                            onclick="downloadVideo('${version.url}', '${getResolutionLabel(version.resolution)}', ${index + 1}, '${media.type}')"
                                            style="background: linear-gradient(45deg, ${vIndex === 0 ? '#00c853, #64dd17' : '#0288d1, #00b0ff'});">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                            <polyline points="7 10 12 15 17 10"/>
                                            <line x1="12" y1="15" x2="12" y2="3"/>
                                        </svg>
                                        ${media.type === 'animated_gif' ? 'Télécharger le GIF' : `Qualité ${version.resolution || `${vIndex + 1}`}`}
                                        ${version.bitrate ? ` (${Math.round(version.bitrate / 1000)} kbps)` : ''}
                                    </button>
                                `).join('')}
                            </div>
                        `}
                    </div>
                `).join('')}
            </div>
        `;
    } catch (error) {
        result.innerHTML = `
            <div style="padding: 1.5rem; background: rgba(255,59,48,0.1); border-radius: 1rem; 
                      border: 1px solid rgba(255,59,48,0.2); text-align: center;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ff3b30" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
                <p style="margin-top: 1rem; color: #ff3b30;">
                    ${error.message || 'Une erreur est survenue lors du chargement des médias.'}
                </p>
            </div>
        `;
    } finally {
        downloadBtn.disabled = false;
    }
});

async function downloadMedia(url, type, index) {
    const downloadUrl = `https://backendxvideodoxnloader.onrender.com/api/download?url=${encodeURIComponent(url)}&type=${type}`;
    return downloadVideo(downloadUrl, type, index);
}

async function downloadVideo(videoUrl, quality, index, type = 'video') {
    try {
        const downloadButton = event.target.closest('.btn');
        const originalText = downloadButton.innerHTML;
        const extension = type === 'photo' ? '.jpg' : type === 'animated_gif' ? '.gif' : '.mp4';
        
        downloadButton.innerHTML = `
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" 
                 style="animation: spin 1s linear infinite;">
                <circle cx="12" cy="12" r="10" opacity="0.25"/>
                <path d="M12 2a10 10 0 0 1 10 10"/>
            </svg>
            Téléchargement en cours...
        `;
        downloadButton.disabled = true;

        const response = await fetch(videoUrl);
        if (!response.ok) throw new Error('Erreur lors du téléchargement');
        const blob = await response.blob();

        // Pour iOS
        if (/iPhone|iPad|iPod/.test(navigator.userAgent) && !window.MSStream) {
            try {
                // Créer le nom du fichier
                const fileName = `x-media-${quality}-${index}${extension}`;
                
                // Créer un fichier à partir du blob
                const file = new File([blob], fileName, { 
                    type: response.headers.get('content-type') || 'video/mp4'
                });

                // Utiliser l'API de partage pour demander la permission
                if (navigator.share && navigator.canShare && navigator.canShare({ files: [file] })) {
                    await navigator.share({
                        files: [file],
                        title: fileName,
                    });
                } else {
                    // Fallback si l'API de partage n'est pas disponible
                    const blobUrl = URL.createObjectURL(blob);
                    
                    // Créer une boîte de dialogue de confirmation
                    const confirmDialog = document.createElement('div');
                    confirmDialog.style.cssText = `
                        position: fixed;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        background: rgba(0, 0, 0, 0.95);
                        padding: 20px;
                        border-radius: 12px;
                        z-index: 10000;
                        text-align: center;
                        color: white;
                        width: 90%;
                        max-width: 350px;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                    `;
                    
                    confirmDialog.innerHTML = `
                        <div style="font-size: 18px; margin-bottom: 15px;">Autoriser le téléchargement ?</div>
                        <div style="margin-bottom: 20px; font-size: 14px;">
                            Voulez-vous télécharger le fichier "${fileName}" ?
                        </div>
                        <div style="display: flex; gap: 10px; justify-content: center;">
                            <button id="denyDownload" style="
                                background: #666;
                                border: none;
                                color: white;
                                padding: 10px 20px;
                                border-radius: 6px;
                                cursor: pointer;
                            ">Refuser</button>
                            <button id="allowDownload" style="
                                background: #1DA1F2;
                                border: none;
                                color: white;
                                padding: 10px 20px;
                                border-radius: 6px;
                                cursor: pointer;
                            ">Autoriser</button>
                        </div>
                    `;
                    
                    document.body.appendChild(confirmDialog);
                    
                    // Gérer les actions de l'utilisateur
                    return new Promise((resolve) => {
                        document.getElementById('allowDownload').onclick = () => {
                            const a = document.createElement('a');
                            a.href = blobUrl;
                            a.download = fileName;
                            a.click();
                            confirmDialog.remove();
                            URL.revokeObjectURL(blobUrl);
                            resolve();
                        };
                        
                        document.getElementById('denyDownload').onclick = () => {
                            confirmDialog.remove();
                            URL.revokeObjectURL(blobUrl);
                            resolve();
                        };
                    });
                }
            } catch (error) {
                console.error('Erreur iOS:', error);
                alert('Erreur lors du téléchargement. Veuillez réessayer.');
            }
        } 
        // Pour Android
        else if (/Android/.test(navigator.userAgent)) {
            const fileName = `x-media-${quality}-${index}${extension}`;
            const file = new File([blob], fileName, { type: response.headers.get('content-type') });
            
            try {
                if (navigator.canShare && navigator.canShare({ files: [file] })) {
                    await navigator.share({
                        files: [file],
                        title: fileName,
                    });
                } else {
                    throw new Error('Partage non supporté');
                }
            } catch (err) {
                saveFile(blob, quality, index, extension);
            }
        }
        // Pour Desktop
        else {
            saveFile(blob, quality, index, extension);
        }

        downloadButton.innerHTML = `
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#00ff00" stroke-width="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
            Téléchargement réussi!
        `;

        setTimeout(() => {
            downloadButton.innerHTML = originalText;
            downloadButton.disabled = false;
        }, 2000);

    } catch (error) {
        console.error('Erreur de téléchargement:', error);
        alert('Erreur lors du téléchargement du média. Veuillez réessayer.');
        const downloadButton = event.target.closest('.btn');
        downloadButton.innerHTML = originalText;
        downloadButton.disabled = false;
    }
}

function saveFile(blob, quality, index, extension) {
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `x-media-${quality}-${index}${extension}`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    window.URL.revokeObjectURL(url);
}

// Animation de spin
const style = document.createElement('style');
style.textContent = `
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
`;
document.head.appendChild(style);
   </script>
</body>
</html>
